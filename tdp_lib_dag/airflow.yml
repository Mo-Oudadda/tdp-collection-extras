# Copyright 2022 TOSIT.IO
# SPDX-License-Identifier: Apache-2.0

---
- name: airflow_webserver_install
  depends_on: []

- name: airflow_scheduler_install
  depends_on:
    - airflow_webserver_install

- name: airflow_worker_install
  depends_on: []

- name: airflow_webserver_config
  depends_on:
    - airflow_webserver_install

- name: airflow_scheduler_config
  depends_on:
    - airflow_webserver_install
    - airflow_scheduler_install

- name: airflow_worker_config
  depends_on:
    - airflow_worker_install

- name: airflow_kerberos_install
  depends_on:
    - airflow_webserver_install
    - airflow_scheduler_install
    - airflow_worker_install
    - airflow_webserver_config
    - airflow_scheduler_config
    - airflow_worker_config

- name: airflow_ssl-tls_install
  depends_on:
    - airflow_webserver_install
    - airflow_scheduler_install
    - airflow_worker_install
    - airflow_webserver_config
    - airflow_scheduler_config
    - airflow_worker_config

- name: airflow_upload_dags
  depends_on: 
    - airflow_install
    - airflow_config

- name: airflow_webserver_restart
  depends_on:
    - airflow_webserver_install
    - airflow_webserver_config

- name: airflow_worker_restart
  depends_on:
    - airflow_worker_install
    - airflow_worker_config

- name: airflow_scheduler_restart
  depends_on:
    - airflow_scheduler_install
    - airflow_scheduler_config